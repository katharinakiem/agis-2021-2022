<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="aGis Website 2021/2022">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://katharinakiem.github.io/agis-2021-2022/img/home-header2.jpg">
    <meta property="twitter:image" content="https://katharinakiem.github.io/agis-2021-2022/img/home-header2.jpg" />
    

    
    <meta name="title" content="Structural diversity metrics from Lidar data " />
    <meta property="og:title" content="Structural diversity metrics from Lidar data " />
    <meta property="twitter:title" content="Structural diversity metrics from Lidar data " />
    

    
    <meta name="description" content="my description">
    <meta property="og:description" content="my description" />
    <meta property="twitter:description" content="my description" />
    

    
    <meta property="twitter:card" content="summary" />
    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>    
    
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/agis-2021-2022/css/hugo-cite.css" />
<link rel="stylesheet" href="https://katharinakiem.github.io/agis-2021-2022/css/stackoverflow-light.min.css" rel="stylesheet" id="theme-stylesheet">
<script src="https://katharinakiem.github.io/agis-2021-2022/js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

    <meta name="keyword"  content="my key words">
    <link rel="shortcut icon" href="/agis-2021-2022/img/favicon.ico">

    <title>Structural diversity metrics from Lidar data -my Seotitle</title>

    <link rel="canonical" href="/agis-2021-2022/agis-2021-2022/post/2022-01-07-structural-diversity-metrics-from-lidar-data/">
    

  <script src="https://unpkg.com/boxicons@2.0.9/dist/boxicons.js"></script>
    
    <link href="https://katharinakiem.github.io/agis-2021-2022css/boxes.css" rel="stylesheet">

    <link rel="stylesheet" href="/agis-2021-2022/css/iDisqus.min.css"/>

    
    <link rel="stylesheet" href="/agis-2021-2022/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/agis-2021-2022/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/agis-2021-2022/css/zanshang.css">

    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" type="text/css">

    
    

    
    
    <script src="/agis-2021-2022/js/jquery.min.js"></script>

    
    <script src="/agis-2021-2022/js/bootstrap.min.js"></script>

    
    <script src="/agis-2021-2022/js/hux-blog.min.js"></script>

    
    

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/agis-2021-2022/"> HOME </a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                   
                    
                        
                        <li>
                            <a href="/agis-2021-2022/categories/agis">agis</a>
                        </li>
                        
                        <li>
                            <a href="/agis-2021-2022/categories/help">help</a>
                        </li>
                        
                        <li>
                            <a href="/agis-2021-2022/categories/r">r</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/agis-2021-2022/top/archive/">CONTENT</a></li>
                    

                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/agis-2021-2022/img/home-header2.jpg');
  max-height: 350px
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-0 col-lg-offset-0 col-md-0 col-md-offset-0">
                <div class="post-heading">
                   
                    <h1>Structural diversity metrics from Lidar data </h1>
                   
            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <h2 id="introduction">Introduction</h2>
<p>To measure structural diversity of forests can help predict forest ecosystem functions such as microclimate or hydrology functions. Since forests structures are highly complex, dynamic and on multiple scales it is difficult to measure those structures accurately. One approach would be to use Lidar data because it provides threedimensional data of an area of interest.<br>
Some metrics calculated with Lidar data will be presented down below and the question if it is possible to predict microclimate parameters like temperature or humidity from those metrics will be answered.</p>
<p>LaRue and Wagner et al (2020) suggest using metrics from the following categories to measure structural diversity of forests:</p>
<ul>
<li>height eg mean canopy height, mean outer canopy height, maximum canopy height</li>
<li>cover and openness eg deep gaps, cover fraction</li>
<li>heterogeneity #(external and internal)</li>
<li>vegetation area eg vegetation area index</li>
</ul>
<p>Some indices from each category will be shown examplarily.</p>
<h2 id="data-and-methods">Data and Methods</h2>
<h3 id="load-data">Load data</h3>
<p>The used data is a section of the forest of the University of Marburg clos to Caldern.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">lasfile <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">list.files</span>(envrmt<span style="color:#ff79c6">$</span>path_l_raw,
                  pattern <span style="color:#ff79c6">=</span> <span style="color:#50fa7b">glob2rx</span>(<span style="color:#f1fa8c">&#34;*.las&#34;</span>),
                  full.names <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">TRUE</span>)
las <span style="color:#ff79c6">&lt;-</span> lidR<span style="color:#ff79c6">::</span><span style="color:#50fa7b">readLAS</span>(lasfile[1])
<span style="color:#50fa7b">summary</span>(las)
</code></pre></div><pre tabindex="0"><code>## class        : LAS (v1.3 format 1)
## memory       : 2 Gb 
## extent       : 477500, 478217.5, 5631730, 5632500 (xmin, xmax, ymin, ymax)
## coord. ref.  : NA 
## area         : 0.55 kunits²
## points       : 26.35 million points
## density      : 47.7 points/units²
## File signature:           LASF 
## File source ID:           0 
## Global encoding:
##  - GPS Time Type: GPS Week Time 
##  - Synthetic Return Numbers: no 
##  - Well Know Text: CRS is GeoTIFF 
##  - Aggregate Model: false 
## Project ID - GUID:        00000000-0000-0000-0000-000000000000 
## Version:                  1.3
## System identifier:         
## Generating software:      rlas R package 
## File creation d/y:        0/2018
## header size:              235 
## Offset to point data:     235 
## Num. var. length record:  0 
## Point data format:        1 
## Point data record length: 28 
## Num. of point records:    26353974 
## Num. of points by return: 10055794 7269852 5128257 2678650 937508 
## Scale factor X Y Z:       0.001 0.001 0.001 
## Offset X Y Z:             4e+05 5e+06 0 
## min X Y Z:                477500 5631730 232.798 
## max X Y Z:                478217.5 5632500 371.824 
## Variable Length Records (VLR):  void
## Extended Variable Length Records (EVLR):  void
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#50fa7b">plot</span>(las, bg <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;green&#34;</span>, color <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;Z&#34;</span>,backend<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;rgl&#34;</span>)
<span style="color:#50fa7b">plot</span>(las, map<span style="color:#ff79c6">=</span> <span style="color:#ff79c6">TRUE</span>)
</code></pre></div><h3 id="indices">Indices</h3>
<ol>
<li>Height:<br>
Height metrics contain information about vertical patterns of the forest vegetation.</li>
</ol>
<p>To get the height metrics a Canopy height model is calculated at first.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#6272a4"># Calculate canopy height model with grid_canopy function of lidR package </span>
<span style="color:#6272a4"># Points-to-raster algorithm with a resolution of 1 meter</span>
<span style="color:#6272a4"># source: (https://rdrr.io/cran/lidR/man/grid_canopy.html)</span>

<span style="color:#6272a4"># Load already nornmalized data and calculate chm </span>
mof100_ctg_chm <span style="color:#ff79c6">&lt;-</span><span style="color:#50fa7b">readRDS</span>(<span style="color:#50fa7b">file.path</span>(envrmt<span style="color:#ff79c6">$</span>path_level1, <span style="color:#f1fa8c">&#34;mof100_ctg_chm.rds&#34;</span>))

chm <span style="color:#ff79c6">=</span> <span style="color:#50fa7b">grid_canopy</span>(mof100_ctg_chm, res <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>, <span style="color:#50fa7b">dsmtin</span>())
</code></pre></div><pre tabindex="0"><code>## Warning in getProjectionRef(x, OVERRIDE_PROJ_DATUM_WITH_TOWGS84 = OVERRIDE_PROJ_DATUM_WITH_TOWGS84, : PROJ/GDAL PROJ string degradation in workflow
##  repeated warnings suppressed
##  Discarded datum European_Terrestrial_Reference_System_1989 in Proj4 definition: +proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs
</code></pre><!-- raw HTML omitted -->
<pre tabindex="0"><code>## Chunk 1 of 12 (8.3%): state &lt;U+26A0&gt;
## Chunk 2 of 12 (16.7%): state &lt;U+2713&gt;
## Chunk 3 of 12 (25%): state &lt;U+2713&gt;
## Chunk 4 of 12 (33.3%): state &lt;U+2713&gt;
## Chunk 5 of 12 (41.7%): state &lt;U+2713&gt;
## Chunk 6 of 12 (50%): state &lt;U+2713&gt;
## Chunk 7 of 12 (58.3%): state &lt;U+2713&gt;
## Chunk 8 of 12 (66.7%): state &lt;U+2713&gt;
## Chunk 9 of 12 (75%): state &lt;U+2713&gt;
## Chunk 10 of 12 (83.3%): state &lt;U+2713&gt;
## Chunk 11 of 12 (91.7%): state &lt;U+2713&gt;
## Chunk 12 of 12 (100%): state &lt;U+2713&gt;
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">col <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">height.colors</span>(<span style="color:#bd93f9">50</span>)
<span style="color:#50fa7b">plot</span>(chm, col <span style="color:#ff79c6">=</span> col, main <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;Mean canopy height within 1 m² cells&#34;</span>)
</code></pre></div><!-- raw HTML omitted -->
<p>As one can see in the plot, the mean canopy height in the research area varies from 0 to 40. <br>
Further height metrics can be obtained from the CHM Rasterlayer which was built using the grid_canopy function:</p>
<p>Mean outer canopy height (MOCH)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">mean.max.canopy.ht <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">mean</span>(chm<span style="color:#ff79c6">@</span>data<span style="color:#ff79c6">@</span>values, na.rm <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">TRUE</span>) 
</code></pre></div><p>Maximum canopy height</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">max.canopy.ht <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">max</span>(chm<span style="color:#ff79c6">@</span>data<span style="color:#ff79c6">@</span>values, na.rm<span style="color:#ff79c6">=</span><span style="color:#ff79c6">TRUE</span>)
</code></pre></div><pre tabindex="0"><code>## Warning in max(chm@data@values, na.rm = TRUE): kein nicht-fehlendes Argument für
## max; gebe -Inf zurück
</code></pre><ol start="2">
<li>Cover and Openness:<br>
Cover and Openness metrics &ldquo;describe openness of the outer surface of the canopy as a two dimensional (x, y) horizontal plane&rdquo; (Atkins et al 2018).</li>
</ol>
<p>These metrics can also be derived from the CHM:</p>
<p>Deep Gaps and Deep Gap Fraction</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#6272a4">#number of cells in raster (also area in m2)</span>
cells <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">length</span>(chm<span style="color:#ff79c6">@</span>data<span style="color:#ff79c6">@</span>values) 
chm.0 <span style="color:#ff79c6">&lt;-</span> chm
chm.0<span style="color:#50fa7b">[is.na</span>(chm.0)] <span style="color:#ff79c6">&lt;-</span> <span style="color:#bd93f9">0</span> <span style="color:#6272a4">#replace NAs with zeros in CHM</span>
<span style="color:#6272a4">#create variable for the number of deep gaps, 1 m^2 canopy gaps</span>
zeros <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">which</span>(chm.0<span style="color:#ff79c6">@</span>data<span style="color:#ff79c6">@</span>values <span style="color:#ff79c6">==</span> <span style="color:#bd93f9">0</span>) 
deepgaps <span style="color:#ff79c6">&lt;-</span> <span style="color:#50fa7b">length</span>(zeros) <span style="color:#6272a4">#number of deep gaps</span>
<span style="color:#6272a4">#deep gap fraction, the number of deep gaps in the chm relative </span>
<span style="color:#6272a4">#to total number of chm pixels</span>
deepgap.fraction <span style="color:#ff79c6">&lt;-</span> deepgaps<span style="color:#ff79c6">/</span>cells 
</code></pre></div><h2 id="results">Results</h2>
<ul>
<li>table with metrics</li>
</ul>
<h2 id="discussion">Discussion</h2>
<p>Take your research question and your results and discuss the results with respect to your approach</p>
<h2 id="references">References</h2>
<ul>
<li>LaRue &amp; Wager et al: Compatibility of Aerial and Terrestrial LiDAR for Quantifying Forest Structural Diversity <a href="https://doi.org/10.3390/rs12091407">https://doi.org/10.3390/rs12091407</a></li>
<li>Atkins et al: Quantifying vegetation and canopy structural complexity from terrestrial LiDAR data using the forestr r package <a href="https://doi.org/10.1111/2041-210X.13061">https://doi.org/10.1111/2041-210X.13061</a></li>
<li>grid canopy_dunction / lidr package <a href="https://rdrr.io/cran/lidR/man/grid_canopy.html">https://rdrr.io/cran/lidR/man/grid_canopy.html</a></li>
<li>Code was used from the script structural metrics: <a href="https://datacommons.cyverse.org/browse/iplant/home/shared/NEON_workshop/tutorials/r_scripts/structural-diversity-discrete-return.r">https://datacommons.cyverse.org/browse/iplant/home/shared/NEON_workshop/tutorials/r_scripts/structural-diversity-discrete-return.r</a></li>
</ul>

                <style>
.button {
  border: none;
  border-radius: 4px 4px; 
  color: white;
  padding: 2px 4px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
  transition-duration: 0.5s;
  cursor: pointer;
  background-color: #4CAF50; 
  
}
.button1 a:link {
  color: #FFF;
  border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}

.button1 a:visited {
  color: white;
    border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}

.button1 a:hover {
  color: white;
    padding: 2px 4px;
    border-radius: 4px 4px;        
  background-color: #3FA043; 
  
}

.button1 a:active {
  color: white;
    border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}
}

.button1 {
  color: white;
  border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}


.button1:hover {
  background-color: #4CAF60;
    box-shadow:0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)
}

</style>

 
 
<div class="col-12 col-lg-10ish article-style">     
<p>Questions and mistakes but also suggestions and solutions are welcome.</p>
<script src="https://utteranc.es/client.js"
        repo="/"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous" 
        async>
</script>
<p>Due to an occasionally faulty page redirection, a 404 error may occur. please use the alternative <button class="button button1"> <a href="https://api.utteranc.es/authorize?redirect_uri=https%3a%2f%2fkatharinakiem.github.io%2fagis-2021-2022%2fpost%2f2022-01-07-structural-diversity-metrics-from-lidar-data%2f">Sign in with GitHub</a></button></p>
    
</div>

                
                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/agis-2021-2022/post/2020-12-01-r-rmarkdown/" data-toggle="tooltip" data-placement="top" title="Hello R Markdown">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/agis-2021-2022/post/math-typesetting/" data-toggle="tooltip" data-placement="top" title="Math Typesetting">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">Content</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            
            
            

            
            <div class="
                col-lg-2 col-lg-offset-0
                col-md-3 col-md-offset-1
                sidebar-container
                catalog-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">Tag Nav</a></h5>
                    <div class="tags">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                    </div>
                </section>
                 

                
                
                      
            </div>
        </div>
    </div>

    
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    

                    
                    
                    

                    

		    
                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; aGis Website 2021/2022 2022
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> 
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/agis-2021-2022\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>


</body>
</html>
